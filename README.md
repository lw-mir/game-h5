# Music Theory Trainer（音乐理论训练器）

一个单文件（仅 `index.html`）即可运行的音乐理论学习与听音训练小应用。无需安装，双击打开即可使用。

## 功能概览

- 互动钢琴：点击琴键或触摸即可发声，支持多音（和弦）。
- 听音训练：
  - 音符辨识：听一个音，点击对应音名/琴键作答。
  - 音阶辨识：随机播放音阶（上/下行），选择类型作答。
  - 和弦辨识：随机播放和弦（齐奏/分解），选择类型作答。
- 学习模式：
  - 选择根音与音阶类型，高亮键位并一键播放音阶。
  - 选择根音与和弦类型，高亮与播放和弦。
- 音色与包络：可选波形（Sine/Triangle/Saw/Square）、音量、起音/释音时间。
- 本地进度：自动保存正确率、连对等数据到浏览器本地（可重置）。
- 完全离线：仅使用 Web Audio API，无外部依赖。

## 快速开始

1. 打开 `index.html`（双击或拖入浏览器）。
2. 首次需要点击页面任意处以“解锁音频”（浏览器策略）。
3. 在顶部工具栏选择音色与音量，在右侧选择「训练」或「学习」。
4. 点击钢琴键可发声与作答；也可用面板按钮出题、再听一次、揭晓答案。

## 训练模式

- 音符训练：
  - 点击「出题」将播放一个音；点击钢琴键作答。
  - 可设置是否包含八度（仅音名/含八度）。
- 音阶训练：
  - 支持：大调、自然小调、大小五声音阶、蓝调音阶。
  - 点击「出题」后会播放音阶，上下行各一次；选择类型作答。
- 和弦训练：
  - 支持：大三、小三、减三、增三、Maj7、min7、7。
  - 点击「出题」后播放和弦（可齐奏或分解）；选择类型作答。

每个训练面板显示：正确次数、作答次数、连对数，支持重置。

## 学习模式

- 音阶学习：选择根音与音阶类型，键位会高亮；点击「播放音阶」。
- 和弦学习：选择根音与和弦类型，键位会高亮；点击「播放和弦」。

## 键盘提示

- 主要通过鼠标/触摸操作。部分键盘映射示例（从 C4 开始）：
  - 白键：`Z X C V B N M ,` …
  - 黑键：`S D G H J` …
    由于键盘布局可能不同，建议以点击琴键为主。

## 常见问题

- 听不到声音？
  - 需要先点击页面任意处解锁音频；确保系统和浏览器音量已开启。
- 移动端支持吗？
  - 支持触摸，但建议横屏以获得更大琴键区域。

## 技术说明

- 使用 Web Audio API 合成音色与包络，无采样文件。
- 单文件架构，所有样式与脚本内联，便于拷贝与分发。

## 目录结构

```
/demo
  ├─ index.html   # 单文件应用（界面+逻辑）
  └─ README.md    # 使用说明（本文件）
```

## 许可证

- 个人与教学用途自由使用与修改。商业使用请联系作者或保留署名。
